@using Sandbox.UI;
@using Sandbox.Menu;

@namespace Facepunch.Gunfight.MainMenu

@inherits RootPanel
@implements Sandbox.Menu.ILoadingScreenPanel
@attribute [StyleSheet]

<root style="flex-direction: column;">
	<div class="background" />

	<div class="controls">
		<label class="button">@( Progress.Title ?? "Loading..." )</label>

		@if ( Progress.Fraction > 0 )
		{
			<div class="progress">
				<div class="bar" style="width: @(Progress.Percent)%;"></div>
				<div class="text-left">@(Progress.Percent.ToString("0") )%</div>
				<div class="text-right"><span>@(Progress.Mbps.ToString("0"))</span><span class="unit">Mbps</span></div>
			</div>
		}
	</div>
</root>

@code
{
	public LoadingProgress Progress;

	public void OnLoadingProgress( LoadingProgress progress )
	{
		Progress = progress;
		StateHasChanged();
	}
}
