@using Sandbox;
@using Sandbox.UI;

@inherits Panel;
@namespace Facepunch.Gunfight.UI

<root>
    <div class="head-gradient"/>
    <div class="head"/>
    @if ( !string.IsNullOrEmpty( PlayerLocation ) )
    {
	    <text class="location">@PlayerLocation</text>
    }
    <text class="timer">@TimeLeft</text>
</root>

@code
{
    public string PlayerLocation => Game.LocalClient?.GetLocation();
    public string TimeLeft => GamemodeSystem.Current?.GetTimeLeftLabel() ?? "00:00";

    public int FriendlyScore => GunfightGame.Current.Scores?.GetScore( TeamSystem.MyTeam ) ?? 0;
    public int EnemyScore => GunfightGame.Current.Scores?.GetScore( TeamSystem.MyTeam.GetOpponent() ) ?? 0;

    protected override int BuildHash()
    {
        return HashCode.Combine( PlayerLocation, FriendlyScore, EnemyScore, TimeLeft );
    }
}
